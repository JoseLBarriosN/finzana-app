<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finzana - Sistema de Gestión de Créditos</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .required {
            color: var(--danger);
            font-weight: bold;
        }
        .field-note {
            font-size: 12px;
            color: var(--gray);
            margin-top: 5px;
        }
        .filter-section {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .filter-row {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 10px;
        }
        .filter-group {
            flex: 1;
            min-width: 200px;
        }
        .filter-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            font-size: 14px;
        }
        .filter-group input, .filter-group select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .import-tabs {
            display: flex;
            border-bottom: 1px solid #ddd;
            margin-bottom: 20px;
        }
        .import-tab {
            padding: 10px 20px;
            cursor: pointer;
            border: 1px solid transparent;
            border-bottom: none;
            border-radius: 5px 5px 0 0;
            margin-right: 5px;
        }
        .import-tab.active {
            background-color: var(--primary);
            color: white;
            border-color: #ddd;
        }
        .import-tab-content {
            display: block;
        }
        .import-tab-content.hidden {
            display: none;
        }
    </style>
</head>
<body>
    <!-- ========== SECCIÓN DE CARGA ========== -->
    <div id="loading-overlay" class="loading-overlay">
        <div class="spinner"></div>
        <p>Inicializando Finzana...</p>
    </div>

    <!-- ========== SECCIÓN DE LOGIN ========== -->
    <div id="login-screen" class="login-container">
        <div class="login-box">
            <div class="login-logo">
                <i class="fas fa-hand-holding-usd"></i>
            </div>
            <h1>Bienvenido a Finzana</h1>
            <p>Sistema de gestión de créditos</p>

            <form id="login-form">
                <div class="form-group">
                    <label for="username">Usuario</label>
                    <input type="text" id="username" placeholder="Ingresa tu usuario" required>
                </div>

                <div class="form-group">
                    <label for="password">Contraseña</label>
                    <input type="password" id="password" placeholder="Ingresa tu contraseña" required>
                </div>

                <div class="form-group">
                    <label for="user-role">Rol de usuario</label>
                    <select id="user-role" required>
                        <option value="">Selecciona tu rol</option>
                        <option value="admin">Administrador</option>
                        <option value="supervisor">Supervisor</option>
                        <option value="cobrador">Cobrador</option>
                        <option value="consulta">Consulta</option>
                    </select>
                </div>

                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-sign-in-alt"></i>
                    <span>Iniciar Sesión</span>
                </button>
            </form>

            <p id="auth-status" class="auth-status"></p>
            <div class="auth-info">
                <p><i class="fas fa-shield-alt"></i> Sistema de autenticación local</p>
            </div>
        </div>
    </div>

    <!-- ========== SECCIÓN PRINCIPAL DE LA APLICACIÓN ========== -->
    <div id="main-app" class="app-container hidden">
        <!-- ========== HEADER DE LA APLICACIÓN ========== -->
        <header class="app-header">
            <div class="user-info">
                <div class="user-avatar">
                    <i class="fas fa-user"></i>
                </div>
                <div>
                    <div id="user-name">Usuario Finzana</div>
                    <div id="user-role-display">Sistema de Créditos</div>
                </div>
            </div>
            <button id="logout-btn" class="btn btn-secondary">
                <i class="fas fa-sign-out-alt"></i>
                <span>Cerrar Sesión</span>
            </button>
        </header>

        <!-- ========== CONTENIDO PRINCIPAL ========== -->
        <main class="app-content">
            <!-- ========== VISTA: MENÚ PRINCIPAL ========== -->
            <div id="view-main-menu" class="view">
                <h2>Panel de Control</h2>
                <p>Selecciona una opción para gestionar el sistema</p>
                
                <div class="menu-grid">
                    <div class="menu-card" data-view="view-gestion-clientes">
                        <div class="menu-icon icon-clientes">
                            <i class="fas fa-users"></i>
                        </div>
                        <h3>Gestión de Clientes</h3>
                        <p>Consulta y administra la información de clientes</p>
                        <button class="btn btn-primary" data-view="view-gestion-clientes">
                            <i class="fas fa-arrow-right"></i>
                            <span>Acceder</span>
                        </button>
                    </div>

                    <div class="menu-card" data-view="view-usuarios">
                        <div class="menu-icon icon-usuarios">
                            <i class="fas fa-user-cog"></i>
                        </div>
                        <h3>Gestión de Usuarios</h3>
                        <p>Administra usuarios y permisos del sistema</p>
                        <button class="btn btn-primary" data-view="view-usuarios">
                            <i class="fas fa-arrow-right"></i>
                            <span>Acceder</span>
                        </button>
                    </div>

                    <div class="menu-card" data-view="view-importar">
                        <div class="menu-icon icon-importar">
                            <i class="fas fa-file-import"></i>
                        </div>
                        <h3>Importar Datos</h3>
                        <p>Carga información desde archivos CSV</p>
                        <button class="btn btn-primary" data-view="view-importar">
                            <i class="fas fa-arrow-right"></i>
                            <span>Acceder</span>
                        </button>
                    </div>

                    <div class="menu-card" data-view="view-cliente">
                        <div class="menu-icon icon-registrar">
                            <i class="fas fa-user-plus"></i>
                        </div>
                        <h3>Registrar Cliente</h3>
                        <p>Agrega nuevos clientes al sistema</p>
                        <button class="btn btn-primary" data-view="view-cliente">
                            <i class="fas fa-arrow-right"></i>
                            <span>Acceder</span>
                        </button>
                    </div>

                    <div class="menu-card" data-view="view-colocacion">
                        <div class="menu-icon icon-colocacion">
                            <i class="fas fa-hand-holding-usd"></i>
                        </div>
                        <h3>Generar Crédito</h3>
                        <p>Crea nuevos créditos para clientes</p>
                        <button class="btn btn-primary" data-view="view-colocacion">
                            <i class="fas fa-arrow-right"></i>
                            <span>Acceder</span>
                        </button>
                    </div>

                    <div class="menu-card" data-view="view-cobranza">
                        <div class="menu-icon icon-cobranza">
                            <i class="fas fa-cash-register"></i>
                        </div>
                        <h3>Registrar Pago</h3>
                        <p>Registra pagos de créditos activos</p>
                        <button class="btn btn-primary" data-view="view-cobranza">
                            <i class="fas fa-arrow-right"></i>
                            <span>Acceder</span>
                        </button>
                    </div>

                    <div class="menu-card" data-view="view-reportes">
                        <div class="menu-icon icon-reportes">
                            <i class="fas fa-chart-bar"></i>
                        </div>
                        <h3>Reportes</h3>
                        <p>Consulta reportes y estadísticas</p>
                        <button class="btn btn-primary" data-view="view-reportes">
                            <i class="fas fa-arrow-right"></i>
                            <span>Acceder</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- ========== VISTA: GESTIÓN DE CLIENTES ========== -->
            <div id="view-gestion-clientes" class="view hidden">
                <div class="view-header">
                    <h2>Gestión de Clientes</h2>
                    <button class="btn btn-secondary" data-view="view-main-menu">
                        <i class="fas fa-arrow-left"></i>
                        <span>Volver al Menú</span>
                    </button>
                </div>
                
                <!-- ========== FILTROS DE CLIENTES ========== -->
                <div class="filter-section">
                    <h3>Filtros de Búsqueda</h3>
                    <div class="filter-row">
                        <div class="filter-group">
                            <label for="filtro-curp">CURP</label>
                            <input type="text" id="filtro-curp" placeholder="Buscar por CURP">
                        </div>
                        <div class="filter-group">
                            <label for="filtro-nombre">Nombre</label>
                            <input type="text" id="filtro-nombre" placeholder="Buscar por nombre">
                        </div>
                        <div class="filter-group">
                            <label for="filtro-telefono">Teléfono</label>
                            <input type="text" id="filtro-telefono" placeholder="Buscar por teléfono">
                        </div>
                    </div>
                    <div class="filter-row">
                        <div class="filter-group">
                            <label for="filtro-grupo">Grupo/Población</label>
                            <select id="filtro-grupo">
                                <option value="">Todos los grupos</option>
                                <option value="JALISCO">JALISCO</option>
                                <option value="GUANAJUATO">GUANAJUATO</option>
                                <!-- Opciones adicionales se cargan dinámicamente -->
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="filtro-fecha">Fecha de Registro</label>
                            <input type="date" id="filtro-fecha">
                        </div>
                        <div class="filter-group">
                            <label for="filtro-cp">Código Postal</label>
                            <input type="text" id="filtro-cp" placeholder="Buscar por CP">
                        </div>
                    </div>
                    <div class="filter-row">
                        <div class="filter-group">
                            <button id="btn-aplicar-filtros" class="btn btn-primary">
                                <i class="fas fa-filter"></i>
                                <span>Aplicar Filtros</span>
                            </button>
                            <button id="btn-limpiar-filtros" class="btn btn-secondary">
                                <i class="fas fa-times"></i>
                                <span>Limpiar Filtros</span>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div id="status_gestion_clientes"></div>
                <table class="client-table">
                    <thead>
                        <tr>
                            <th>CURP</th>
                            <th>Nombre</th>
                            <th>Domicilio</th>
                            <th>Código Postal</th>
                            <th>Teléfono</th>
                            <th>Fecha de Registro</th>
                            <th>Grupo/Población</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="tabla-clientes">
                        <!-- Los datos se cargan dinámicamente -->
                    </tbody>
                </table>
            </div>

            <!-- ========== VISTA: GESTIÓN DE USUARIOS ========== -->
            <div id="view-usuarios" class="view hidden">
                <div class="view-header">
                    <h2>Gestión de Usuarios</h2>
                    <button class="btn btn-secondary" data-view="view-main-menu">
                        <i class="fas fa-arrow-left"></i>
                        <span>Volver al Menú</span>
                    </button>
                </div>
                
                <button id="btn-nuevo-usuario" class="btn btn-primary">
                    <i class="fas fa-user-plus"></i>
                    <span>Nuevo Usuario</span>
                </button>
                <div id="status_usuarios"></div>
                
                <div id="form-usuario-container" class="hidden">
                    <h3 id="form-usuario-titulo">Nuevo Usuario</h3>
                    <form id="form-usuario">
                        <input type="hidden" id="usuario-id">
                        <div class="form-group">
                            <label for="nuevo-username">Usuario <span class="required">*</span></label>
                            <input type="text" id="nuevo-username" required>
                        </div>
                        <div class="form-group">
                            <label for="nuevo-password">Contraseña <span class="required">*</span></label>
                            <input type="password" id="nuevo-password" required>
                        </div>
                        <div class="form-group">
                            <label for="nuevo-nombre">Nombre Completo <span class="required">*</span></label>
                            <input type="text" id="nuevo-nombre" required>
                        </div>
                        <div class="form-group">
                            <label for="nuevo-rol">Rol <span class="required">*</span></label>
                            <select id="nuevo-rol" required>
                                <option value="admin">Administrador</option>
                                <option value="supervisor">Supervisor</option>
                                <option value="cobrador">Cobrador</option>
                                <option value="consulta">Consulta</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="nuevo-email">Email</label>
                            <input type="email" id="nuevo-email">
                        </div>
                        <div class="form-group">
                            <label for="nuevo-telefono">Teléfono</label>
                            <input type="text" id="nuevo-telefono">
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-success">
                                <i class="fas fa-save"></i>
                                <span>Guardar</span>
                            </button>
                            <button type="button" id="btn-cancelar-usuario" class="btn btn-secondary">
                                <i class="fas fa-times"></i>
                                <span>Cancelar</span>
                            </button>
                        </div>
                    </form>
                </div>
                
                <table class="user-table">
                    <thead>
                        <tr>
                            <th>Usuario</th>
                            <th>Nombre</th>
                            <th>Rol</th>
                            <th>Email</th>
                            <th>Teléfono</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="tabla-usuarios">
                        <!-- Los datos se cargan dinámicamente -->
                    </tbody>
                </table>
            </div>

            <!-- ========== VISTA: IMPORTAR DATOS ========== -->
<div id="view-importar" class="view hidden">
    <div class="view-header">
        <h2>Importar Datos</h2>
        <button class="btn btn-secondary" data-view="view-main-menu">
            <i class="fas fa-arrow-left"></i>
            <span>Volver al Menú</span>
        </button>
    </div>
    
    <p>Importa información desde archivos CSV al sistema</p>
    
    <div class="import-tabs">
        <div class="import-tab active" data-tab="clientes">Clientes</div>
        <div class="import-tab" data-tab="colocacion">Colocación</div>
        <div class="import-tab" data-tab="cobranza">Cobranza</div>
    </div>
    
    <!-- ========== TAB: IMPORTAR CLIENTES ========== -->
    <div id="tab-clientes" class="import-tab-content">
        <div class="import-section">
            <h4>Formato para importar clientes</h4>
            <p>El archivo CSV debe tener las siguientes columnas en orden:</p>
            <ul>
                <li>NOMBRE</li>
                <li>DOMICILIO</li>
                <li>CP</li>
                <li>TELEFONO</li>
                <li>FECHA DE REGISTRO</li>
                <li>GRUPO O POBLACION</li>
            </ul>
        </div>
        
        <div class="form-group">
            <label for="datos-importar-clientes">Datos CSV</label>
            <textarea id="datos-importar-clientes" rows="10" placeholder="Pega aquí los datos en formato CSV"></textarea>
        </div>
    </div>
    
    <!-- ========== TAB: IMPORTAR COLOCACIÓN ========== -->
    <div id="tab-colocacion" class="import-tab-content hidden">
        <div class="import-section">
            <h4>Formato para importar colocación</h4>
            <p>El archivo CSV debe tener las siguientes columnas en orden:</p>
            <ul>
                <li>CURP</li>
                <li>NOMBRE DEL CLIENTE</li>
                <li>ID DE CREDITO</li>
                <li>FECHA DE REGISTRO (formato día/mes/año)</li>
                <li>TIPO</li>
                <li>MONTO</li>
                <li>PLAZO</li>
                <li>MONTO TOTAL</li>
                <li>CURP AVAL</li>
                <li>NOMBRE AVAL</li>
                <li>GRUPO O POBLACIÓN</li>
                <li>RUTA</li>
                <li>INTERES</li>
                <li>SALDO</li>
                <li>ULTIMO PAGO</li>
                <li>SALDO VENCIDO</li>
                <li>STATUS</li>
                <li>SALDO INTERES</li>
                <li>STJ150</li>
            </ul>
        </div>
        
        <div class="form-group">
            <label for="datos-importar-colocacion">Datos CSV</label>
            <textarea id="datos-importar-colocacion" rows="10" placeholder="Pega aquí los datos en formato CSV"></textarea>
        </div>
    </div>
    
    <!-- ========== TAB: IMPORTAR COBRANZA ========== -->
    <div id="tab-cobranza" class="import-tab-content hidden">
        <div class="import-section">
            <h4>Formato para importar cobranza</h4>
            <p>El archivo CSV debe tener las siguientes columnas en orden:</p>
            <ul>
                <li>NOMBRE</li>
                <li>ID DE CREDITO</li>
                <li>FECHA</li>
                <li>MONTO DE PAGO</li>
                <li>COMISIÓN</li>
                <li>TIPO DE PAGO</li>
                <li>GRUPO O POBLACION</li>
                <li>RUTA</li>
                <li>SALDO</li>
                <li>COBRADO POR</li>
            </ul>
        </div>
        
        <div class="form-group">
            <label for="datos-importar-cobranza">Datos CSV</label>
            <textarea id="datos-importar-cobranza" rows="10" placeholder="Pega aquí los datos en formato CSV"></textarea>
        </div>
    </div>
    
    <div class="form-group">
        <button id="btn-procesar-importacion" class="btn btn-primary">
            <i class="fas fa-file-import"></i>
            <span>Procesar Importación</span>
        </button>
        <button id="btn-limpiar-datos" class="btn btn-danger">
            <i class="fas fa-trash"></i>
            <span>Limpiar Base de Datos</span>
        </button>
    </div>
    
    <div id="resultado-importacion" class="hidden">
        <div id="estado-importacion"></div>
        <div id="detalle-importacion"></div>
    </div>
</div>

            <!-- ========== VISTA: REGISTRAR CLIENTE ========== -->
            <div id="view-cliente" class="view hidden">
                <div class="view-header">
                    <h2>Registrar Cliente</h2>
                    <button class="btn btn-secondary" data-view="view-main-menu">
                        <i class="fas fa-arrow-left"></i>
                        <span>Volver al Menú</span>
                    </button>
                </div>
                
                <form id="form-cliente">
                    <div class="form-group">
                        <label for="curp_cliente">CURP <span class="required">*</span></label>
                        <input type="text" id="curp_cliente" placeholder="18 caracteres" required maxlength="18">
                        <div class="field-note">El CURP debe tener exactamente 18 caracteres</div>
                    </div>
                    <div class="form-group">
                        <label for="nombre_cliente">Nombre Completo <span class="required">*</span></label>
                        <input type="text" id="nombre_cliente" required>
                    </div>
                    <div class="form-group">
                        <label for="domicilio_cliente">Domicilio <span class="required">*</span></label>
                        <input type="text" id="domicilio_cliente" required>
                    </div>
                    <div class="form-group">
                        <label for="cp_cliente">Código Postal</label>
                        <input type="text" id="cp_cliente">
                    </div>
                    <div class="form-group">
                        <label for="telefono_cliente">Teléfono</label>
                        <input type="text" id="telefono_cliente">
                    </div>
                    <div class="form-group">
                        <label for="poblacion_grupo_cliente">Grupo/Población <span class="required">*</span></label>
                        <select id="poblacion_grupo_cliente" required>
                            <option value="JALISCO">JALISCO</option>
                            <option value="GUANAJUATO">GUANAJUATO</option>
                            <!-- Opciones adicionales se cargan dinámicamente -->
                        </select>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-success">
                            <i class="fas fa-save"></i>
                            <span>Guardar Cliente</span>
                        </button>
                        <button type="button" class="btn btn-secondary" data-view="view-main-menu">
                            <i class="fas fa-times"></i>
                            <span>Cancelar</span>
                        </button>
                    </div>
                </form>
                <div id="status_cliente"></div>
            </div>

            <!-- ========== VISTA: GENERAR CRÉDITO ========== -->
            <div id="view-colocacion" class="view hidden">
                <div class="view-header">
                    <h2>Generar Crédito</h2>
                    <button class="btn btn-secondary" data-view="view-main-menu">
                        <i class="fas fa-arrow-left"></i>
                        <span>Volver al Menú</span>
                    </button>
                </div>
                
                <div class="form-group">
                    <label for="curp_colocacion">CURP del Cliente <span class="required">*</span></label>
                    <div class="search-group">
                        <input type="text" id="curp_colocacion" placeholder="Ingresa la CURP del cliente" required>
                        <button id="btnBuscarCliente_colocacion" class="btn btn-primary">
                            <i class="fas fa-search"></i>
                            <span>Buscar Cliente</span>
                        </button>
                    </div>
                </div>
                
                <div id="form-colocacion" class="hidden">
                    <div class="form-group">
                        <label for="nombre_colocacion">Nombre del Cliente</label>
                        <input type="text" id="nombre_colocacion" readonly>
                    </div>
                    <div class="form-group">
                        <label for="idCredito_colocacion">ID del Crédito</label>
                        <input type="text" id="idCredito_colocacion" readonly>
                    </div>
                    <div class="form-group">
                        <label for="tipo_colocacion">Tipo de Crédito <span class="required">*</span></label>
                        <select id="tipo_colocacion" required>
                            <!-- Opciones se cargan dinámicamente -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="monto_colocacion">Monto Solicitado <span class="required">*</span></label>
                        <select id="monto_colocacion" required>
                            <!-- Opciones se cargan dinámicamente -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="plazo_colocacion">Plazo (semanas) <span class="required">*</span></label>
                        <select id="plazo_colocacion" required>
                            <!-- Opciones se cargan dinámicamente -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="montoTotal_colocacion">Monto Total a Pagar</label>
                        <input type="text" id="montoTotal_colocacion" readonly>
                        <div class="field-note">Incluye el 30% de interés</div>
                    </div>
                    <div class="form-group">
                        <label for="curpAval_colocacion">CURP del Aval <span class="required">*</span></label>
                        <input type="text" id="curpAval_colocacion" placeholder="18 caracteres" required maxlength="18">
                        <div class="field-note">El CURP debe tener exactamente 18 caracteres</div>
                    </div>
                    <div class="form-group">
                        <label for="nombreAval_colocacion">Nombre del Aval <span class="required">*</span></label>
                        <input type="text" id="nombreAval_colocacion" required>
                    </div>
                    <div class="form-group">
                        <label for="grupo_colocacion">Grupo/Población</label>
                        <input type="text" id="grupo_colocacion" readonly>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-success">
                            <i class="fas fa-hand-holding-usd"></i>
                            <span>Generar Crédito</span>
                        </button>
                        <button type="button" class="btn btn-secondary" data-view="view-main-menu">
                            <i class="fas fa-times"></i>
                            <span>Cancelar</span>
                        </button>
                    </div>
                </div>
                <div id="status_colocacion"></div>
            </div>

            <!-- ========== VISTA: REGISTRAR PAGO ========== -->
            <div id="view-cobranza" class="view hidden">
                <div class="view-header">
                    <h2>Registrar Pago</h2>
                    <button class="btn btn-secondary" data-view="view-main-menu">
                        <i class="fas fa-arrow-left"></i>
                        <span>Volver al Menú</span>
                    </button>
                </div>
                
                <div class="form-group">
                    <label for="idCredito_cobranza">ID del Crédito <span class="required">*</span></label>
                    <div class="search-group">
                        <input type="text" id="idCredito_cobranza" placeholder="Ingresa el ID del crédito" required>
                        <button id="btnBuscarCredito_cobranza" class="btn btn-primary">
                            <i class="fas fa-search"></i>
                            <span>Buscar Crédito</span>
                        </button>
                    </div>
                </div>
                
                <div id="form-cobranza" class="hidden">
                    <div class="form-group">
                        <label for="nombre_cobranza">Nombre del Cliente</label>
                        <input type="text" id="nombre_cobranza" readonly>
                    </div>
                    <div class="form-group">
                        <label for="grupo_cobranza">Grupo/Población</label>
                        <input type="text" id="grupo_cobranza" readonly>
                    </div>
                    <div class="form-group">
                        <label for="saldo_cobranza">Saldo Actual</label>
                        <input type="text" id="saldo_cobranza" readonly>
                    </div>
                    <div class="form-group">
                        <label for="estado_cobranza">Estado del Crédito</label>
                        <input type="text" id="estado_cobranza" readonly>
                    </div>
                    <div class="form-group">
                        <label for="siguiente_pago_cobranza">Siguiente Pago</label>
                        <input type="text" id="siguiente_pago_cobranza" readonly>
                    </div>
                    <div class="form-group">
                        <label for="semanas_atraso_cobranza">Semanas de Atraso</label>
                        <input type="text" id="semanas_atraso_cobranza" readonly>
                    </div>
                    <div class="form-group">
                        <label for="monto_cobranza">Monto del Pago <span class="required">*</span></label>
                        <input type="number" id="monto_cobranza" min="1" required>
                    </div>
                    <div class="form-group">
                        <label for="tipo_cobranza">Tipo de Pago <span class="required">*</span></label>
                        <select id="tipo_cobranza" required>
                            <option value="normal">Normal</option>
                            <option value="extraordinario">Extraordinario</option>
                            <option value="actualizado">Actualizado</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="saldoDespues_cobranza">Saldo Después del Pago</label>
                        <input type="text" id="saldoDespues_cobranza" readonly>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-success">
                            <i class="fas fa-cash-register"></i>
                            <span>Registrar Pago</span>
                        </button>
                        <button type="button" class="btn btn-secondary" data-view="view-main-menu">
                            <i class="fas fa-times"></i>
                            <span>Cancelar</span>
                        </button>
                    </div>
                </div>
                <div id="status_cobranza"></div>
            </div>

            <!-- ========== VISTA: REPORTES ========== -->
            <div id="view-reportes" class="view hidden">
                <div class="view-header">
                    <h2>Reportes del Sistema</h2>
                    <button class="btn btn-secondary" data-view="view-main-menu">
                        <i class="fas fa-arrow-left"></i>
                        <span>Volver al Menú</span>
                    </button>
                </div>
                
                <button id="btn-actualizar-reportes" class="btn btn-primary">
                    <i class="fas fa-sync-alt"></i>
                    <span>Actualizar Reportes</span>
                </button>
                
                <div class="report-grid">
                    <div class="report-card">
                        <div class="report-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="report-value" id="total-clientes">0</div>
                        <div class="report-label">Total Clientes</div>
                    </div>
                    
                    <div class="report-card">
                        <div class="report-icon">
                            <i class="fas fa-file-invoice-dollar"></i>
                        </div>
                        <div class="report-value" id="total-creditos">0</div>
                        <div class="report-label">Créditos Activos</div>
                    </div>
                    
                    <div class="report-card">
                        <div class="report-icon">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <div class="report-value" id="total-cartera">$0</div>
                        <div class="report-label">Total Cartera</div>
                    </div>
                    
                    <div class="report-card">
                        <div class="report-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="report-value" id="total-vencidos">0</div>
                        <div class="report-label">Créditos Vencidos</div>
                    </div>
                    
                    <div class="report-card">
                        <div class="report-icon">
                            <i class="fas fa-receipt"></i>
                        </div>
                        <div class="report-value" id="pagos-registrados">0</div>
                        <div class="report-label">Pagos del Mes</div>
                    </div>
                    
                    <div class="report-card">
                        <div class="report-icon">
                            <i class="fas fa-coins"></i>
                        </div>
                        <div class="report-value" id="cobrado-mes">$0</div>
                        <div class="report-label">Cobrado Este Mes</div>
                    </div>
                    
                    <div class="report-card">
                        <div class="report-icon">
                            <i class="fas fa-percentage"></i>
                        </div>
                        <div class="report-value" id="tasa-recuperacion">0%</div>
                        <div class="report-label">Tasa de Recuperación</div>
                    </div>
                    
                    <div class="report-card">
                        <div class="report-icon">
                            <i class="fas fa-hand-holding-usd"></i>
                        </div>
                        <div class="report-value" id="total-comisiones">$0</div>
                        <div class="report-label">Comisiones del Mes</div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="js/database.js"></script>
    <script src="js/app.js"></script>
</body>
</html>

